{% extends 'YouHate/base.html' %}
{% load staticfiles %}

{% block title_block %}
    {{ category.name }}
{% endblock %}

{% block body_block %}
    {% if category %}
        <h1>{{ category.name }}</h1>
        <div>
            {% if videos %}
                <h2>All Recent</h2>
                <div class="videoBlock">
                    {% for v in recentVideos %}
                        <img class="videoThumbnail" src="{{ v.thumbnail.url }}" alt=""></img>
                    {% endfor %}
                </div>

                <h2>Most Disliked</h2>
                <div class="videoBlock">
                    {% for v in dislikedVideos %}
                        <img class="videoThumbnail" src="{{ v.thumbnail.url }}" alt=""></img>
                    {% endfor %}
                </div>

                <h2>Most Viewed</h2>
                <div class="videoBlock">
                    {% for v in mostViewedVideos %}
                        <img class="videoThumbnail" src="{{ v.thumbnail.url }}" alt=""></img>
                    {% endfor %}
                </div>

                <h2>Least Viewed</h2>
                <div class="videoBlock">
                    {% for v in leastViewedVideos %}
                        <img class="videoThumbnail" src="{{ v.thumbnail.url }}" alt=""></img>
                    {% endfor %}
                </div>
            {% else %}
                <p>No videos found.</p>
            {% endif %}
        </div>
    {% else %}
        <p>No category found.</p>
    {% endif %}

    <script type="text/javascript">
        $(document).ready(function () {
            $("#videoBlock").on("wheel", function (event) {
                event.preventDefault();
                
                let scrollAmount = event.originalEvent.deltaY || event.originalEvent.deltaX; 
                $(this).stop().animate({
                    scrollLeft: "+=" + scrollAmount
                }, 200); // Adjust speed (200ms) for smooth scrolling
            });
        });
    </script>             
{% endblock %}